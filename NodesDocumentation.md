This documentation is meant to explain how the generators and verifiers work on executing streams and ensuring proper sequencing. It is not meant to explain the structure of the stream.

# **Packet Structure**

The packets will consist of normal ethernet packets with the addition of some fields to help with sequencing and latency measurement. The exact format of the packets are:

-Destination address

-Source address

-Stream ID (2-byte field)

-GeneratorID (2-byte field)

-Sequence Number (8-byte field)

-Data

-Timestamp (generated by the switch)

-CRC (4-byte filed)

# **Stream Configuration Handling**

Before the test, the configuration of all streams in the system is sent by the admin-client to the system-APIs of all the working nodes. The system API selects the ones that the current node is involved in and stores it. 

# **Packet Sequencing**
Each generator sequences packets incrementally according to the the generator-streamID pair it belongs to.

All the verifier instance on the pc are identical. This is because the verifier has the task of parsing which stream the received packet belongs to, and the rest of the parsing process depends on the configuration of the stream. 
So it would not make sense to have multiple verifiers.
The verifier will use an *in-memory database* which holds the configurations of all streams this node is involved in. This is to speed up the verification process and save memory as not all verifiers have to load the configuration table locally to them.


#**Program Arguments Passed to the different Executables**
Genertor: 

Verifier:

Gateway:

#**Configuration file structure**
The configuration file for the stream is stored in the directory /etc/EJam/ under the name config_xxx where xxx represents the streamID
It contains the following fields each on a single line sequentially:

